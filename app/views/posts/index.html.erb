<% content_for :title, t(".title") %>
<% content_for :breadcrumb do %>
  <li class="breadcrumb-item active"><%= t(".title") %></li>
<% end %>

<% if notice.present? %>
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    <%= notice %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>

<div class="page-header d-flex justify-content-between align-items-center">
  <h2><i class="bi bi-file-text me-2"></i><%= t(".title") %></h2>
  <%= link_to new_post_path, class: "btn btn-primary" do %>
    <i class="bi bi-plus-lg"></i> <%= t(".new_post") %>
  <% end %>
</div>

<div class="card">
  <div class="card-body p-0">
    <% if @posts.any? %>
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th><%= Post.human_attribute_name(:title) %></th>
              <th><%= Post.human_attribute_name(:body) %></th>
              <th class="text-end" style="width: 180px;"><%= t(".actions") %></th>
            </tr>
          </thead>
          <tbody>
            <% @posts.each do |post| %>
              <tr>
                <td class="fw-medium"><%= post.title %></td>
                <td class="text-muted"><%= truncate(post.body, length: 100) %></td>
                <td class="text-end text-nowrap">
                  <%= link_to post, class: "btn btn-sm btn-outline-primary me-1" do %>
                    <i class="bi bi-eye"></i> <%= t("posts.show.show") %>
                  <% end %>
                  <%= link_to edit_post_path(post), class: "btn btn-sm btn-outline-secondary" do %>
                    <i class="bi bi-pencil"></i> <%= t("posts.show.edit") %>
                  <% end %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="text-center py-5 text-muted">
        <p class="mb-0"><%= t(".no_posts") %></p>
      </div>
    <% end %>
  </div>
</div>

<div class="d-flex justify-content-center mt-3">
  <%== @pagy.series_nav(:bootstrap) %>
</div>
